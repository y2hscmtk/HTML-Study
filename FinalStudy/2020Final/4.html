<!DOCTYPE html>
<html>
    <head>
        <title>4번</title>
        <meta charset="utf-8">
    </head>
    <body>
        <input type="checkbox" name="apple" value="../../media/apple.jpg"  onchange="changeImage(this)">사과<br>
        <input type="checkbox" name="banana" value="../../media/banana.jpg" onchange="changeImage(this)">바나나<br>
        <input type="checkbox" name="mango" value="../../media/mango.jpg" onchange="changeImage(this)">망고<br>

        <div id="imagespace"></div>
        <script>
            let div =document.getElementById("imagespace")
            
            function changeImage(obj){
                if(obj.checked == false){ //체크가 풀린상태라면 => 이미지 삭제
                    let fruit = document.getElementById(obj.name) //어떤 과일 이미지인지 확인
                    div.removeChild(fruit) //해당 과일 삭제
                }
                else{ //이제 막 체크된 상태라면 => 과일 생성
                    let fruitImg = document.createElement("img")
                    fruitImg.src = obj.value; //경로를 받아온 후
                    fruitImg.id = obj.name; //과일의 이름을 아이디로 설정
                    div.appendChild(fruitImg)
                }
            }
            /* 
            //let flag1 = false;
            //let flag2 = false;
            //let flag3 = false;
            독립적인 함수로 사용하는 경우
            function showApple(){
                if(flag1){ //기존에 생성된것이 있다면
                    let lastImage = document.getElementById("apple")
                    div.removeChild(lastImage)
                    flag1 = false; //제거되었다는 의미로 flag를 false로 변경
                }
                else{
                    let newImage = document.createElement("img")
                    newImage.src = "../../media/apple.jpg" 
                    newImage.id = "apple"
                    div.appendChild(newImage)
                    flag1= true;//생성되었다는 사실을 기록
                }
            }
            function showMango(obj){
                if(flag2){ //기존에 생성된것이 있다면
                    let lastImage = document.getElementById("mango")
                    div.removeChild(lastImage)
                    flag2 = false; //제거되었다는 의미로 flag를 false로 변경
                }
                else{
                    let newImage = document.createElement("img")
                    newImage.src = "../../media/mango.jpg" 
                    newImage.id = "mango"
                    div.appendChild(newImage)
                    flag2= true;//생성되었다는 사실을 기록
                }
            }
            function showBanana(obj){
                if(flag3){ //기존에 생성된것이 있다면
                    let lastImage = document.getElementById("banana")
                    div.removeChild(lastImage)
                    flag3 = false; //제거되었다는 의미로 flag를 false로 변경
                }
                else{
                    let newImage = document.createElement("img")
                    newImage.src = "../../media/banana.jpg" 
                    newImage.id = "banana"
                    div.appendChild(newImage)
                    flag3= true;//생성되었다는 사실을 기록
                }
            }*/
        </script>
    </body>
</html>